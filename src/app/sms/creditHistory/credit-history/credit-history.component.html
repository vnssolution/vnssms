<!-- page  -->
<div class="page_head1">
    <div class="row">
        <div class="col-md-7">
            <h5>Credit History
            </h5>
          </div>
          <div class="col-md-5 text-right">
              <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                      <li class="breadcrumb-item">
                          <a ng-reflect-router-link="/dashboard" href="/dashboard">Home</a>
                      </li><li aria-current="page" class="breadcrumb-item active">Credit History
                    </li>
                  </ol></nav></div>
              </div></div>

<div class="gride_m1">

   
      <form [formGroup] ="dateRangeSearchForm" (ngSubmit)="onSubmit(dateRangeSearchForm.value)">
        <div class="row mb-30">
        <div class="col-xs-12 col-12 col-md-3 form-group">
          <label>Select Date Range</label>
            <input type="text" formControlName="dateRange"
            placeholder="Date Range"
            data-date-format="yyyy-mm-dd"
                   class="form-control"
                   bsDaterangepicker id="daterange" >
          </div>

        <div class="col-sm-4" style="white-space: nowrap;">
            <button type="submit" class="btn btn_m2 mt-30 mr-2">Search</button>
            <button type="button" (click)="reset()" class="btn btn_m5 mt-30 mr-2">Reset</button>
            <!-- <button class="btn btn_m6 mt-30 mr-2">Download</button> -->
        </div>

    </div>
        </form>

        <div class="table_m4">
            <table  class="table">
              <thead>
                  <tr>
                      <th>S.No</th>
                      <th>Name</th>
                      <!-- <th>Phone</th> -->
                      <th>Added credits(+)</th>
                      <th>Deduct Credits(-)</th>
                      <th>Balance Credits</th>
                      <th>Date</th>
                      <!-- <th>History</th> -->
                      <!-- <th>Credits</th> -->
                      <!-- <th>Login</th> -->
                  </tr>
              </thead>
              <tbody>
                   <div style="margin-top: 20%;" *ngIf="showSpinner" class="d-flex justify-content-center">
                     <div style="width: 2rem;height: 2rem;" class="spinner-border" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                  </div>
               <tr *ngFor="let data of credHistory | paginate: {itemsPerPage: 10,  currentPage: currentPage,  totalItems: totalCount } let i= index">
                   <td>{{i+1}}</td>
                   <td>{{data.username}}</td>
                   <!-- <td>{{data.phone}}</td> -->
                   <td>{{data.added_credits}}</td>
                   <td>{{data.deducted_credits}}</td>
                   <td>{{data.balance_credits}}</td>
                   <td>{{data.created_at | date}}</td>
                   <!-- <td>+ Credits</td> -->
               </tr>
                 
              </tbody>
             
            </table>
            </div>
            <div class="custom_pag_m1" *ngIf="totalCount > 5">
                <pagination-controls (pageChange)="pageChanged($event,filters)" class="pagination custom_pagi"></pagination-controls>
            </div>
<!-- page -->


